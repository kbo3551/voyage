<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gdu.voyage.mapper.MemberMapper">
	<select id="selectMemberNickName" resultType="int" parameterType="String">
		SELECT
			count(member_nickname)
		FROM
			member
		WHERE
			member_nickname = #{memberNickname};
	</select>
	
	<select id="selectMemberId" resultType="int" parameterType="String">
		SELECT
			count(member_id)
		FROM
			member
		WHERE
			member_id = #{memberId};
	</select>

	<insert id="insertMemberAddress" parameterType="com.gdu.voyage.vo.MemberAddress">
		INSERT INTO 
			member_address(
				member_id,member_address_postal_code,member_address_zip,member_address_detail
				)
		VALUES(
			#{memberId},#{memberAddressPostalCode},#{memberAddressZip},#{memberAddressDetail}
			);
	</insert>
	
	<insert id="insertMember" parameterType="com.gdu.voyage.vo.Member">
		INSERT INTO
			member(
				member_id,member_pw,member_first_name,member_last_name,member_nickname,member_phone,
				member_email,member_reg,member_description,member_level,member_active,create_date,update_date
				)
		VALUES(
			#{memberId},#{memberPw},#{memberFirstName},#{memberLastName},#{memberNickname},#{memberPhone},#{memberEmail},#{memberReg},
			#{memberDescription},#{memberLevel},#{memberActive},NOW(),NOW()
			);
	</insert>

</mapper>